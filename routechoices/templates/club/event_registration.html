{% extends "club/base.html" %}
{% load static %}
{% load hosts %}
{% load django_bootstrap5 %}
{% load compress %}

{%  block extra_head %}
{{ block.super }}
<link rel="stylesheet" href="{% static '/vendor/tom-select-2.0.1/tom-select.bootstrap5.min.css' %}" />
{%  endblock %}

{% block head_title %}{{ event.name }} registration | Powered by {{ site.name }}{% endblock %}
{% block head_description %}{{ event.name }} by {{ event.club.name }} registration page{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1>Register for event {{ event.name }} by {{ event.club.name }}</h1>
        <p>Event {% if not event.hidden %}started {{event.start_date|timesince}} ago{% else %}starts on <span class="date-utc" data-date="{{event.start_date|date:'c'}}">{{ event.start_date }} UTC</span>{% endif %}.</p>
        <form action="" method="post">
            {% csrf_token %}
            {% bootstrap_form form %}
            <p><i class="fa fa-warning"></i> You can stream your GPS data to only one competitor at a time. If you register now, your GPS data stream will be switched to this competitor {% if not event.hidden %}immediately{% else %}at latest on <span class="date-utc" data-date="{{event.start_date|date:'c'}}">{{ event.start_date }} UTC</span>{% endif %}.</p>
            <input type="submit" value="Register" class="btn btn-primary">
        </form>
    </div>
</div>
{% endblock %}

{% block extra_body %}
{{ block.super }}
<script src="{% static '/scripts/load-local-variables.js' %}?_=2022072900"
    data-api-base-url="{% host_url 'api_doc' host 'api' %}">
</script>
{% compress js %}
<script src="{% static '/vendor/tom-select-2.0.1/tom-select.custom.js' %}"></script>
<script src="{% static '/vendor/reqwest-2.0.5/reqwest.min.js' %}"></script>
<script src="{% static '/vendor/umbrella-3.3.0/umbrella.min.js' %}"></script>
<script src="{% static '/vendor/dayjs-1.10.6/dayjs.min.js' %}"></script>
<script src="{% static '/scripts/club/event_registration.js' %}" ></script>
{% endcompress %}
{% endblock %}
