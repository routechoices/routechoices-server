{% extends "dashboard/club_view.html" %}
{% load django_bootstrap5 hosts static %}
{% block sub_sub_content %}
    <div class="row">
        <div class="col-12">
            <div class="mb-3">
                {% if not maps %}<p>You haven't created any map yet.</p>{% endif %}
                <a href="{% url 'dashboard:map_create_view' %}"
                   class="btn btn-primary me-1 mb-1"><i class="fa-solid fa-image"></i> Create from Image</a>
                <a href="{% url 'dashboard:map_upload_kmz_view' %}"
                   class="btn btn-secondary me-1 mb-1">
                   <svg 
                     width="20"
                     height="20"
                     version="1.1"
                     viewBox="0 0 238 238"
                     xmlns="http://www.w3.org/2000/svg"
                     style="vertical-align: sub">
                    <path fill="currentColor" d="m119 1e-3c-65.722 0-119 53.278-119 119s53.279 119 119 119 119-53.278 119-119-53.279-119-119-119zm12.246 218.79c-18.16 2.236-36.922-2.223-53.465-8.285-0.807-2.82-2.156-5.485-2.15-8.531 3e-3 -5.396 3.529-9.068 8.969-9.31 5.32-0.238 10.453 0.99 15.606 1.954 41.711 7.801 74.961 3.029 87.272-2.772-8.078 10.993-35.67 24.412-56.232 26.944zm77.801-55.651s-28.672 19.113-115.81-5.025c-14.681-4.067-29.28-8.338-43.684-13.271-5.891-2.016-20.17-8.192-27.146 1.401-7.988-24.075-2.113-43.425-2.113-43.425s1.188-1.632 1.511-2.011c7.329-8.594 16.984-10.806 27.711-10.188 15.479 0.888 29.159 7.085 42.342 14.552 20.646 11.682 40.563 24.916 62.474 34.05 49.171 20.499 58.646 9.143 60.918 7.533-2.749 10.403-6.202 16.384-6.202 16.384zm7.364-67.041c1.495 7.136 2.623 14.319 2.65 21.635-3.38 5.798-7.163 8.254-14.694 5.481-12.876-4.74-27.316-15.514-53.97-37.191-13.676-11.12-28.719-20.321-44.38-28.431-14.484-7.498-29.948-10.067-46.098-8.68-4.011 0.345-8.523 0.819-14.56 2.924 9.876-11.026 21.816-19.124 35.409-24.856 0.714-0.303 44.872-6.476 78.135 30.395 29.098 32.253 45.875 39.435 48.653 40.029 2.358 0.506 6.043 0.728 8.855-1.306z"/>
                  </svg> Create from KMZ/KML</a>
                <a href="{% url 'dashboard:map_upload_gpx_view' %}"
                   class="btn btn-secondary me-1 mb-1">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 100 100"
                    xmlns="http://www.w3.org/2000/svg"
                    style="vertical-align: sub">
                    <path fill="currentColor" d="M 95.083864,12.767229 C 93.932638,6.4691094 87.49911,2.3005478 79.41799,3.9380234 71.343374,5.5756382 66.070308,11.632017 66.229527,18.435657 c 0.453435,4.28878 3.776826,7.461618 8.299354,8.626671 L 65.880656,52.825794 C 59.25358,55.014127 54.527466,60.700558 54.912926,66.36652 L 31.051113,77.703515 C 28.10999,75.316099 23.67298,74.240684 18.913169,75.175171 10.994444,76.732005 5.0441057,83.272606 5.7227937,89.674137 c 0.6535108,6.18114 7.2699753,10.056426 14.8530343,8.920429 a 3.2369606,4.1277133 70.532536 0 0 1.601469,-0.314869 c 7.509348,-1.828766 13.053355,-8.092858 12.399831,-14.273987 -0.0272,-0.249303 -0.07816,-0.4867 -0.12337,-0.728107 L 57.629061,72.267966 a 11.667287,14.877911 70.532539 0 0 12.151257,3.375233 3.2388327,4.1301005 70.53254 0 0 1.601466,-0.314867 C 78.891134,73.499567 84.435138,67.235477 83.781616,61.054342 83.28017,56.313816 79.274719,52.907668 74.018017,52.0869 l 8.488167,-24.98458 a 3.2313441,4.1205512 70.532536 0 0 0.179186,-0.0597 c 7.50801,-1.83017 13.510963,-8.19519 12.398494,-14.275393 z m -8.046183,1.580444 a 5.0847802,6.4840191 70.532538 0 1 -5.834707,6.410933 5.082908,6.4816317 70.532537 0 1 -6.927265,-3.903391 5.0847802,6.4840191 70.532538 0 1 5.833372,-6.412334 5.0847802,6.4840191 70.532538 0 1 6.9286,3.904792 z M 75.734097,62.633384 a 5.0847802,6.4840191 70.532538 0 1 -5.83471,6.410935 5.082908,6.4816317 70.532537 0 1 -6.927264,-3.903391 5.0847802,6.4840191 70.532538 0 1 5.833373,-6.412336 5.0847802,6.4840191 70.532538 0 1 6.928601,3.904792 z M 26.528275,85.58335 a 5.0847802,6.4840191 70.532538 0 1 -5.834708,6.410934 5.082908,6.4816317 70.532537 0 1 -6.925928,-3.901991 5.0847802,6.4840191 70.532538 0 1 5.83337,-6.412332 5.0847802,6.4840191 70.532538 0 1 6.927266,3.903389 z"/>
                  </svg> Create from GPX</a>
                <a href="{% url 'dashboard:map_draw_view' %}"
                   class="btn btn-secondary mb-1"><i class="fa-solid fa-pencil"></i> Draw</a>
            </div>
            {% if maps %}
                {% if maps.paginator.num_pages > 1 %}
                    {% bootstrap_pagination maps extra=request.GET.urlencode pages_to_show=4 %}
                {% endif %}
                <table class="table table-striped mb-3">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Download</th>
                        </tr>
                    </thead>
                    <tboby>
                    {% for map in maps %}
                        <tr>
                            <td>
                                <a href="{% url 'dashboard:map_edit_view' map_id=map.aid %}">{{ map.name }}</a>
                            </td>
                            <td>
                                {% if map.image %}
                                    <a class="btn btn-sm btn-primary me-1 mb-1" href="{{ map.image.url }}"><i class="fa-solid fa-download"></i> Image</a>
                                    <a class="btn btn-sm btn-primary mb-1"
                                       href="{% host_url 'map_kmz_download' map_id=map.aid host 'api' %}"><i class="fa-solid fa-download"></i> KMZ</a>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                    </tboby>
                </table>
                {% if maps.paginator.num_pages > 1 %}
                    {% bootstrap_pagination maps extra=request.GET.urlencode pages_to_show=4 %}
                {% endif %}
            {% endif %}
        </div>
    </div>
{% endblock sub_sub_content %}
