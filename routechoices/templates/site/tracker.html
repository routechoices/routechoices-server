{% extends "base.html" %}
{% load static compress %}
{% block extra_head %}
    {{ block.super }}
    <link rel="stylesheet"
          href="{% static 'styles/site/tracker.css' %}?_=2022022600" />
{% endblock extra_head %}
{% block head_title %}
    Trackers | {{ site.name }} | Live GPS tracking for orienteering
{% endblock head_title %}
{% block contentup %}
    <div class="container-fluid p-0">
        <div class="row m-0">
            <div class="w-100"
                 style="background-image: linear-gradient(0, var(--rc-gradient-filter), var(--rc-gradient-filter)), linear-gradient(120deg, #a095de 0%, #e391cc 100%)">
                <div class="container content" style="min-height: 100px">
                    <div class="row text-center font-weight-bold">
                        <h2 style="font-family: Atkinson Hyperlegible, sans-serif;
                                   font-weight: 700">GPS Trackers</h2>
                    </div>
                </div>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 1 1"
                 width="100%"
                 height="2em"
                 preserveAspectRatio="none"
                 fill="var(--bs-body-bg)"
                 style="margin-top: -2em"
                 class="p-0">
                <path d="M0 0 V1 H1" />
            </svg>
        </div>
    </div>
    <div class="container content">
        <div class="row">
            <div class="col-12 mx-auto">
                <div class="card border-0 shadow rounded-3 my-3">
                    <div class="card-body p-4 p-sm-5">
                        <div class="row">
                            <div class="row justify-content-between mb-3">
                                <div class="col align-self-center text-center">
                                    <picture>
                                        <source srcset="{% static 'img/iphone_tracker.webp' %}?v=20230811"
                                                type="image/webp" />
                                        <img src="{% static 'img/iphone_tracker.png' %}?v=20230811"
                                             alt="Smart Phone"
                                             height="150"
                                             width="150" />
                                    </picture>
                                </div>
                                <div class="col align-self-center text-center">
                                    <picture>
                                        <source srcset="{% static '/img/TMT250.webp' %}?v=20230801" type="image/webp" />
                                        <img src="{% static '/img/TMT250.png' %}?v=20230801"
                                             alt="Teltonika TMT250"
                                             height="150"
                                             width="150">
                                    </picture>
                                </div>
                                <div class="col align-self-center text-center">
                                    <picture>
                                        <source srcset="{% static '/img/gl320mg.webp' %}?v=20230801"
                                                type="image/webp" />
                                        <img src="{% static '/img/gl320mg.png' %}?v=20230801"
                                             alt="Queclink GL320MG"
                                             height="150"
                                             width="150" />
                                    </picture>
                                </div>
                                <div class="col align-self-center text-center">
                                    <picture>
                                        <source srcset="{% static '/img/tracktape.webp' %}?v=20230801"
                                                type="image/webp" />
                                        <img src="{% static '/img/tracktape.png' %}?v=20230801"
                                             alt="Tracktape"
                                             height="150"
                                             width="244" />
                                    </picture>
                                </div>
                            </div>
                        </div>
                        <p>
                            Upload of locations to provide live GPS tracking can be done in two different way. Using a smartphone application or using one of the supported dedicated GPS trackers.
                        </p>
                        <p>
                            In any case, the device you are using will be assigned a unique "Device ID" that is used to identify your device and that you can communicate to the events organisers so you can be tracked.
                        </p>
                        <p>
                            If you are interested in acquiring some dedicated GPS trackers, we do not sell directly devices, but you can contact us for some information about the different resellers.
                        </p>
                        <p>See below more detailed instructions for each type of device:</p>
                        <ul class="nav nav-tabs my-3" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button type="button"
                                        role="button"
                                        class="nav-link active"
                                        id="android-tab-btn"
                                        data-bs-toggle="tab"
                                        data-bs-target="#android-ios">
                                    <i class="fa-brands fa-android"></i> Android &amp; <i class="fa-brands fa-apple"></i> iOS
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button type="button"
                                        role="button"
                                        class="nav-link"
                                        id="hardware-tab-btn"
                                        data-bs-toggle="tab"
                                        data-bs-target="#hardware">
                                    <i class="fa-solid fa-satellite-dish"></i> Dedicated GPS trackers
                                </button>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div id="android-ios" class="tab-pane show active">
                                <div>
                                    <p>
                                        Install the app from Google Play app or the Apple App Store, Search "Routechoices Tracker", by Raphael Stefanini.
                                    </p>
                                    <p>
                                        <a href="https://play.google.com/store/apps/details?id=com.routechoices.routechoicestracker"
                                           class="me-1">
                                            <img alt="Get it on Google Play" height="60" width="202" src="{% static "img/google-play-badge.svg" %}" />
                                        </a>
                                        <a href="https://apps.apple.com/us/app/routechoices-tracker/id1570437272?itsct=apps_box_link&itscg=30200">
                                            <img alt="Get it on Apple App Store" height="60" width="180" src="{% static "img/apple-app-store-badge.svg" %}" />
                                        </a>
                                    </p>
                                    <p>Upon opening the app, it will display a device ID.</p>
                                    <p>
                                        Before starting a event, click the "Start live GPS" button to start sharing the location of the phone with us. And when the event is over, Turn off the app with the "Stop live GPS" button.
                                    </p>
                                    <p>Once the GPS signal is good, the device ID turns green and the app starts uploading its locations.</p>
                                    <p>
                                        <i class="fa-solid fa-triangle-exclamation"
                                           style="color:red;
                                                  font-size:1.2em"></i> <b>Ensure that GPS location provider with high accuracy is enabled in the system settings for the app and that GPS access is allowed all the time. If not, uploading GPS data will stop when screen goes to sleep.</b>
                                    </p>
                                    <p>
                                        Note: Google and Apple are trying to restrict background processes to give user better battery life, but it affects application like Routechoices Tracker which require persistent background execution. Common issues to check for:
                                        <ul>
                                            <li>
                                                On recent versions of Android make sure that Routechoices Tracker has been added to battery optimization exceptions.
                                            </li>
                                            <li>
                                                Some Android vendors have their own battery optimization in addition to standard Android system. Make sure those are disabled or the app is added to exceptions.
                                            </p>
                                        </li>
                                        <li>
                                            On iOS, make sure that in settings background execution is allowed and Routechoices Tracker has permission to always access location services.
                                        </li>
                                        <li>
                                            Also on iOS, ensure that the settings in "Settings &gt; Privacy &gt; Location Services &gt; Routechoices Tracker" is set to "Always"
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div id="hardware" class="tab-pane">
                                <div>
                                    <p>
                                        The dedicated GPS trackers supported are:
                                        <ul>
                                            <li>GT06 protocol devices</li>
                                            <li>Mictrack MT710</li>
                                            <li>Queclink devices</li>
                                            <li>Teltonika TMT250</li>
                                            <li>Tracktape devices</li>
                                            <li>Xexun ARM CPU products (tk102-2, tk103-2, tk202, tk201-2, xt007, xt008)</li>
                                        </ul>
                                    </p>
                                    <p>
                                        Configure the devices to share data with TCP protocol to server <code>routechoices.com</code> on the following port:
                                        <ul>
                                            <li>
                                                <code>Port 2000</code>: Teltonika devices
                                            </li>
                                            <li>
                                                <code>Port 2001</code>: Mictrack devices
                                            </li>
                                            <li>
                                                <code>Port 2002</code>: Queclink devices
                                            </li>
                                            <li>
                                                <code>Port 2003</code>: TrackTape devices
                                            </li>
                                            <li>
                                                <code>Port 2004</code>: Xexun devices
                                            </li>
                                            <li>
                                                <code>Port 2005</code>: GT06 devices
                                            </li>
                                        </ul>
                                        The recommended data push interval is 5 seconds, and the recommended GPS data acquisition interval is 1 second, but feel free to adjust the settings depending on your usage as this settings affect the battery life.
                                        <br />
                                        <a target="_blank"
                                           href="https://github.com/routechoices/trackers-config"
                                           aria-label="Config file download page">Configuration file for most common devices</a>.
                                    </p>
                                    <h5 class="mt-3">Device ID</h5>
                                    <p>Devices must be registered by acquiring a Device ID (see below) so that they can be used on this website.</p>
                                    <p>Once done simply turn on the tracker during events and its locations will be saved to the server.</p>
                                    <h6>Get a device ID for a tracker</h6>
                                    <form id="imeiForm">
                                        <div class="form-group">
                                            <label for="IMEI">IMEI</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="IMEI"
                                                   aria-describedby="IMEIHelp"
                                                   placeholder="Enter IMEI"
                                                   required>
                                            <small id="IMEIHelp" class="form-text text-muted">This is used to link the physical device with the {{ site.name }} platform.</small>
                                            <div id="imeiErrorMsg" class="invalid-feedback d-none mb-1">
                                                <i class="fa-solid fa-triangle-exclamation"></i> Invalid IMEI
                                            </div>
                                        </div>
                                        <button type="submit" id="submit-btn" class="btn btn-primary">Submit</button>
                                    </form>
                                    <br />
                                    <div id="imeiDevId" class="well d-none">
                                        <p>
                                            IMEI: <code id="imeiRes"></code>
                                            <br />
                                            Device ID
                                            <button type="button" class="btn btn-sm btn-secondary" id="copyDevIdBtn">
                                                <span class="imeiDevId roboto"></span> <i class="fa-regular fa-copy fa-fw"></i>
                                            </button>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock contentup %}
{% block extra_body %}
    <script src="{% static '/scripts/load-local-variables.js' %}?_=2023112700"
            data-csrf-token="{{ csrf_token }}"></script>
    {% compress js %}
        <script src="{% static '/vendor/reqwest-2.0.5/reqwest.min.js' %}"></script>
        <script src="{% static '/vendor/umbrella-3.3.1/umbrella.min.js' %}"></script>
        <script src="{% static '/scripts/site/tracker.js' %}"></script>
    {% endcompress %}
{% endblock extra_body %}
